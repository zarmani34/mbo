<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, Book Lover!</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&display=swap');
        
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Lora', serif;
            background-color: #f9f7f1;
            color: #3a3a3a;
            overflow-x: hidden;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        header {
            text-align: center;
            padding: 20px 0;
            position: relative;
        }
        h1 {
            font-size: 2.5em;
            color: #d4a373;
        }
        .book {
            background-color: #fefae0;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        .book-cover {
            width: 150px;
            height: 200px;
            background-color: #d4a373;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fefae0;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            border-radius: 5px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            position: relative;
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        .book-cover:hover {
            transform: scale(1.05);
        }
        .story-content {
            display: none;
            margin-top: 20px;
            font-size: 0.9em;
            line-height: 1.6;
        }
        .message {
            font-style: italic;
            text-align: center;
            margin-bottom: 20px;
        }
        .profile-picture {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: block;
            object-fit: cover;
            border: 5px solid #d4a373;
        }
        .writing-section {
            background-color: #faedcd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        .icon {
            font-size: 2em;
            color: #d4a373;
            margin-bottom: 10px;
        }
        footer {
            text-align: center;
            padding: 20px 0;
            font-size: 0.9em;
            color: #6c757d;
        }
        #typewriter {
            min-height: 150px;
            position: relative;
        }
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #d4a373;
        }
        .flower {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
        }
        .petal {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff9a8b;
            border-radius: 50%;
            opacity: 0;
        }
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            h1 {
                font-size: 2em;
            }
            .book-cover {
                width: 120px;
                height: 160px;
            }
            .profile-picture {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="confetti-container"></div>
    <div class="container">
        <header>
            <h1>Happy Birthday, MBO!</h1>
        </header>
        <main>
            <img src="/pic1.jpg" alt="Birthday Girl" class="profile-picture">
            <div class="book">
                <div class="book-cover floating" onclick="toggleStory()">
                    Your Story
                </div>
                <div class="story-content">
                    <p>Chapter 1: The Beginning</p>
                    <p>In a world filled with words and wonder, there was a brilliant writer named MBO. Her passion for storytelling ignited imaginations and touched hearts. Each word she penned was a brushstroke on the canvas of life, painting vivid scenes and unforgettable characters.</p>
                    <p>Chapter 2: The Journey</p>
                    <p>As MBO embarked on her writing journey, she discovered worlds within worlds. Her dedication to her craft inspired those around her, and her unique voice resonated with readers far and wide. With each passing year, her talent blossomed like a beautiful flower in spring.</p>
                    <p>Chapter 3: The Celebration</p>
                    <p>Today, on her special day, we celebrate not just another year of life, but the incredible impact MBO has made through her writing. Her stories have become a beacon of light, guiding and inspiring others to pursue their dreams.</p>
                    <p>The adventure continues...</p>
                </div>
                <p class="message">On this special day, I want to celebrate the amazing person you are. Your love for books and your talent for writing inspire me every day.</p>
            </div>
            <div class="writing-section">
                <i class="fas fa-feather-alt icon floating"></i>
                <h2>A Birthday Note</h2>
                <div id="typewriter"></div>
                <div class="flower">
                    <div class="petal" style="transform: rotate(0deg) translateY(-20px);"></div>
                    <div class="petal" style="transform: rotate(72deg) translateY(-20px);"></div>
                    <div class="petal" style="transform: rotate(144deg) translateY(-20px);"></div>
                    <div class="petal" style="transform: rotate(216deg) translateY(-20px);"></div>
                    <div class="petal" style="transform: rotate(288deg) translateY(-20px);"></div>
                </div>
            </div>
        </main>
        <footer>
            <p>Created with love by [Zed]</p>
        </footer>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const text = "Just as you weave words into beautiful stories, you've woven your way into my heart. Your creativity, intelligence, and passion for literature make you truly one-of-a-kind. Here's to another chapter in your life, filled with love, laughter, and countless books. Happy birthday, my dear writer and book lover!";
        let i = 0;
        const speed = 50;

        function typeWriter() {
            if (i < text.length) {
                document.getElementById("typewriter").innerHTML += text.charAt(i);
                i++;
                setTimeout(typeWriter, speed);
                
                // Bloom the flower
                let progress = i / text.length;
                gsap.to(".petal", {scale: progress, opacity: progress, duration: 0.1});
            }
        }

        function createConfetti() {
            const confettiContainer = document.querySelector('.confetti-container');
            for (let i = 0; i < 50; i++) {
                let confetti = document.createElement('div');
                confetti.className = 'confetti';
                confettiContainer.appendChild(confetti);

                gsap.set(confetti, {
                    x: Math.random() * window.innerWidth,
                    y: -20,
                    backgroundColor: gsap.utils.random(['#d4a373', '#faedcd', '#fefae0', '#e9edc9'])
                });

                gsap.to(confetti, {
                    y: window.innerHeight + 20,
                    x: '+=' + (Math.random() * 200 - 100),
                    rotation: Math.random() * 360,
                    duration: Math.random() * 2 + 1,
                    opacity: 0,
                    onComplete: () => confetti.remove()
                });
            }
        }

        function toggleStory() {
            const storyContent = document.querySelector('.story-content');
            gsap.to(storyContent, {
                duration: 0.5,
                height: storyContent.style.display === 'none' ? 'auto' : 0,
                opacity: storyContent.style.display === 'none' ? 1 : 0,
                onComplete: () => {
                    storyContent.style.display = storyContent.style.display === 'none' ? 'block' : 'none';
                }
            });
        }

        window.onload = function() {
            gsap.from("h1", {duration: 1, y: -50, opacity: 0, ease: "back.out(1.7)"});
            gsap.from(".profile-picture", {duration: 1, scale: 0, opacity: 0, ease: "elastic.out(1, 0.3)", delay: 0.5});
            gsap.from(".book", {
                scrollTrigger: {
                    trigger: ".book",
                    start: "top bottom",
                    end: "bottom top",
                    toggleActions: "play none none reverse"
                },
                duration: 1, 
                x: -100, 
                opacity: 0, 
                ease: "back.out(1.7)"
            });
            gsap.from(".writing-section", {
                scrollTrigger: {
                    trigger: ".writing-section",
                    start: "top bottom",
                    end: "bottom top",
                    toggleActions: "play none none reverse"
                },
                duration: 1, 
                x: 100, 
                opacity: 0, 
                ease: "back.out(1.7)", 
                onComplete: typeWriter
            });
            
            createConfetti();
            setInterval(createConfetti, 5000);  // Repeat confetti every 5 seconds
        };
    </script>
</body>
</html>